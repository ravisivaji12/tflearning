module "core" {
  source = "./modules/_env_core"
  providers = {
    azurerm.azurerm_core_infrastructure_provider = azurerm.azurerm_core_infrastructure_provider
    azuread.azuread_mccaingroup_onmicrosoft_com  = azuread.azuread_mccaingroup_onmicrosoft_com
  }
  organization                                                                  = var.core_organization
  solution                                                                      = var.core_solution
  environment                                                                   = var.core_environment
  application                                                                   = var.core_application
  gl_code                                                                       = var.core_gl_code
  it_owner                                                                      = var.core_it_owner
  business_owner                                                                = var.core_business_owner
  iac_creator                                                                   = var.core_iac_creator
  iac_owner                                                                     = var.core_iac_owner
  network_posture                                                               = var.core_network_posture
  built_using                                                                   = var.core_built_using
  terraform_id                                                                  = var.core_terraform_id
  onboarding_date                                                               = var.onboarding_date_image_gallery
  modified_date                                                                 = var.modified_date_image_gallery
  region                                                                        = var.core_primary_region
  region_secondary                                                              = var.core_secondary_region
  sub_component_image_gallery                                                   = var.core_sub_component_image_gallery
  image_gallery_reader_access_AD_group_names                                    = var.image_gallery_reader_access_AD_group_names
  image_gallery_contributor_access_AD_group_names                               = var.image_gallery_contributor_access_AD_group_names
  image_gallery_contributor_access_service_principal_object_ids                 = var.image_gallery_contributor_access_service_principal_object_ids
  image_gallery_contributor_access_user_assigned_managed_identity_object_ids_cc = var.image_gallery_contributor_access_user_assigned_managed_identity_object_ids_cc
  image_gallery_contributor_access_user_assigned_managed_identity_object_ids_ce = var.image_gallery_contributor_access_user_assigned_managed_identity_object_ids_ce
  ce_hub_vnet_address_spaces                                                    = var.ce_hub_vnet_address_spaces
  sub_component_firewall                                                        = var.core_sub_component_firewall
  ce_route_table_routes                                                         = var.core_ce_route_table_routes
  ce_hub_vnet_subnets                                                           = var.core_ce_hub_vnet_subnets
  ce_hub_ip_cidr_ranges                                                         = var.core_ce_hub_ip_cidr_ranges
  hub_firewall_ip_address                                                       = var.core_ce_hub_firewall_ip_address
  on_prem_and_other_ip_cidr_ranges                                              = var.core_on_prem_and_other_ip_cidr_ranges
  ce_hub_address_prefix                                                         = var.core_ce_hub_address_prefix
  vwan_resource_group_name                                                      = var.core_vwan_resource_group_name
  cisco_spn_object_ids                                                          = var.core_cisco_spn_object_ids
}


module "preprod" {
  source = "./modules/_env_preprod"
  providers = {
    azurerm.azurerm_application_provider         = azurerm.azurerm_application_provider_preprod
    azurerm.azurerm_core_infrastructure_provider = azurerm.azurerm_core_infrastructure_provider
    azuread.azuread_mccaingroup_onmicrosoft_com  = azuread.azuread_mccaingroup_onmicrosoft_com
  }
  organization                                                  = var.organization
  solution                                                      = var.solution
  environment                                                   = var.environment_preprod
  application                                                   = var.application
  gl_code                                                       = var.gl_code
  it_owner                                                      = var.it_owner
  business_owner                                                = var.business_owner
  iac_creator                                                   = var.iac_creator
  iac_owner                                                     = var.iac_owner
  network_posture                                               = var.network_posture
  built_using                                                   = var.built_using
  terraform_id                                                  = var.terraform_id
  onboarding_date_tools                                         = var.onboarding_date_tools
  modified_date_tools                                           = var.modified_date_tools
  region                                                        = var.region
  secondary_region                                              = var.secondary_region
  sub_component_app_gateway                                     = var.sub_component_app_gateway
  sub_component_ascs                                            = var.sub_component_ascs
  sub_component_web_dispatcher                                  = var.sub_component_web_dispatcher
  sub_component_btp                                             = var.sub_component_btp
  sub_component_bw                                              = var.sub_component_bw
  sub_component_srm                                             = var.sub_component_srm
  sub_component_file_share                                      = var.sub_component_file_share
  sub_component_deployment                                      = var.sub_component_deployment
  sub_component_solman                                          = var.sub_component_solman
  sub_component_portal                                          = var.sub_component_portal
  sub_component_smartshift                                      = var.sub_component_smartshift
  tools_vnet_address_spaces                                     = var.tools_vnet_address_spaces
  vnet_address_spaces                                           = var.preprod_vnet_address_spaces
  vnet_subnets                                                  = var.preprod_vnet_subnets
  dns_servers                                                   = var.dns_servers
  hub_vnet_id                                                   = var.hub_vnet_id
  hub_vnet_name                                                 = var.hub_vnet_name
  tools_vnet_subnets                                            = var.tools_vnet_subnets
  ad_groups                                                     = var.preprod_ad_groups
  ad_groups_owner                                               = var.preprod_ad_groups_owner
  cloud_builder_identity_roles                                  = var.preprod_cloud_builder_identity_roles
  route_table_routes                                            = var.preprod_route_table_routes
  cloud_builder_private_ip                                      = var.cloud_builder_private_ip
  cloud_builder_image_offer                                     = var.cloud_builder_image_offer
  cloud_builder_image_publisher                                 = var.cloud_builder_image_publisher
  cloud_builder_image_sku                                       = var.cloud_builder_image_sku
  cloud_builder_image_version                                   = var.cloud_builder_image_version
  cloud_builder_admin_username                                  = var.cloud_builder_admin_username
  cloud_builder_admin_password                                  = var.cloud_builder_admin_password
  cloud_builder_computer_name                                   = var.cloud_builder_computer_name
  cloud_builder_sku_size                                        = var.cloud_builder_sku_size
  storage_blob_private_dns_zone_resource_id                     = var.storage_blob_private_dns_zone_resource_id
  binaries_storage_account_private_endpoint_ip                  = var.binaries_storage_account_private_endpoint_ip
  binaries_storage_account_contributor_access_groups            = var.binaries_storage_account_contributor_access_groups
  key_vault_private_dns_zone_resource_id                        = var.preprod_key_vault_private_dns_zone_resource_id
  key_vault_private_endpoint_ip                                 = var.preprod_key_vault_private_endpoint_ip
  jump_server_vm_name                                           = var.jump_server_vm_name
  jump_server_sku_size                                          = var.jump_server_sku_size
  jump_server_private_ip                                        = var.jump_server_private_ip
  jump_server_admin_username                                    = var.jump_server_admin_username
  jump_server_admin_password                                    = var.jump_server_admin_password
  jump_server_computer_name                                     = var.jump_server_computer_name
  jump_server_image_info                                        = var.jump_server_image_info
  smartshift_server_vm_name                                     = var.smartshift_server_vm_name
  smartshift_server_sku_size                                    = var.smartshift_server_sku_size
  smartshift_server_private_ip                                  = var.smartshift_server_private_ip
  smartshift_server_admin_username                              = var.smartshift_server_admin_username
  smartshift_server_admin_password                              = var.smartshift_server_admin_password
  smartshift_server_computer_name                               = var.smartshift_server_computer_name
  smartshift_server_image_info                                  = var.smartshift_server_image_info
  vm_backup_policies                                            = var.preprod_vm_backup_policies
  application_security_group_names                              = var.preprod_application_security_group_names
  dev_application_security_group_names                          = var.preprod_dev_application_security_group_names
  prod_application_security_group_names                         = var.preprod_prod_application_security_group_names
  network_security_groups                                       = var.preprod_network_security_groups
  network_security_groups_secondary                             = var.preprod_network_security_groups_secondary
  tools_vnet_address_spaces_secondary                           = var.tools_vnet_address_spaces_secondary
  tools_vnet_subnets_secondary                                  = var.tools_vnet_subnets_secondary
  common_nsg_rules                                              = var.common_nsg_rules
  common_nsg_rules_secondary                                    = var.common_nsg_rules_secondary
  storage_file_private_dns_zone_resource_id                     = var.storage_file_private_dns_zone_resource_id
  fileshare_storage_account_private_endpoint_ip                 = var.fileshare_storage_account_private_endpoint_ip
  app_registration_info                                         = var.preprod_app_registration_info
  backup_storage_account_private_endpoint_ip                    = var.preprod_backup_storage_account_private_endpoint_ip
  secondary_backup_storage_account_private_endpoint_ip          = var.preprod_secondary_backup_storage_account_private_endpoint_ip
  secondary_key_vault_private_endpoint_ip                       = var.preprod_secondary_key_vault_private_endpoint_ip
  secondary_fileshare_storage_account_private_endpoint_ip       = var.secondary_fileshare_storage_account_private_endpoint_ip
  policy_spn_roles                                              = var.preprod_policy_spn_roles
  policy_group_roles                                            = var.preprod_policy_group_roles
  cluster_spn_object_id                                         = var.preprod_cluster_spn_object_id
  cluster_role_name                                             = var.cluster_role_name
  cluster_role_description                                      = var.cluster_role_description
  cluster_role_actions                                          = var.cluster_role_actions
  cluster_role_assignable_scopes                                = var.cluster_role_assignable_scopes
  cluster_role_role_definition_location_resource_id             = var.cluster_role_role_definition_location_resource_id
  site_recovery_private_dns_zone_id                             = var.site_recovery_private_dns_zone_id
  site_recovery_private_dns_zone_name                           = var.site_recovery_private_dns_zone_name
  site_recovery_private_dns_zone_resource_group_name            = var.site_recovery_private_dns_zone_resource_group_name
  fileshare_storage_account_private_endpoint_dr_ip              = var.fileshare_storage_account_private_endpoint_dr_ip
  blob_soft_delete_retention_days                               = var.blob_soft_delete_retention_days_prod
  foundational_storage_account_private_endpoint_ip              = var.preprod_foundational_storage_account_private_endpoint_ip
  secondary_foundational_storage_account_private_endpoint_ip    = var.preprod_secondary_foundational_storage_account_private_endpoint_ip
  route_tables                                                  = var.route_tables
  subscription_id                                               = var.application_subscription_id_preprod
  asr_replication_storage_account_private_endpoint_ip           = var.preprod_asr_replication_storage_account_private_endpoint_ip
  secondary_asr_replication_storage_account_private_endpoint_ip = var.preprod_asr_secondary_replication_storage_account_private_endpoint_ip
}

module "sandbox" {
  source = "./modules/_env_SAP"
  providers = {
    azurerm.azurerm_application_provider         = azurerm.azurerm_application_provider_sandbox
    azurerm.azurerm_core_infrastructure_provider = azurerm.azurerm_core_infrastructure_provider
    azuread.azuread_mccaingroup_onmicrosoft_com  = azuread.azuread_mccaingroup_onmicrosoft_com
  }
  organization                                        = var.organization
  solution                                            = var.solution
  environment                                         = var.environment_sandbox
  application                                         = var.application
  gl_code                                             = var.gl_code
  it_owner                                            = var.it_owner
  business_owner                                      = var.business_owner
  iac_creator                                         = var.iac_creator
  iac_owner                                           = var.iac_owner
  network_posture                                     = var.network_posture
  built_using                                         = var.built_using
  terraform_id                                        = var.terraform_id
  onboarding_date                                     = var.onboarding_date_sandbox
  modified_date                                       = var.modified_date_sandbox
  region                                              = var.region
  sub_component_bw                                    = var.sub_component_bw
  sub_component_srm                                   = var.sub_component_srm
  sub_component_solman                                = var.sub_component_solman
  sub_component_portal                                = var.sub_component_portal
  vnet_address_spaces                                 = var.sandbox_vnet_address_spaces
  dns_servers                                         = var.dns_servers
  hub_vnet_id                                         = var.hub_vnet_id
  hub_vnet_name                                       = var.hub_vnet_name
  vnet_subnets                                        = var.sandbox_vnet_subnets
  ad_groups                                           = var.sandbox_ad_groups
  ad_groups_owner                                     = var.sandbox_ad_groups_owner
  route_table_routes                                  = var.preprod_route_table_routes
  storage_blob_private_dns_zone_resource_id           = var.storage_blob_private_dns_zone_resource_id
  key_vault_private_dns_zone_resource_id              = var.preprod_key_vault_private_dns_zone_resource_id
  key_vault_private_endpoint_ip                       = var.sandbox_key_vault_private_endpoint_ip
  managed_identity_object_id                          = var.sandbox_managed_identity_object_id
  monitoring_tools_vnet_name                          = module.preprod.monitoring_tools_vnet_name
  monitoring_tools_vnet_id                            = module.preprod.monitoring_tools_vnet_resource_id
  vm_backup_policies                                  = var.sandbox_vm_backup_policies
  storage_blob_private_dns_zone_resource_group_name   = var.storage_blob_private_dns_zone_resource_group_name
  storage_blob_private_dns_zone_name                  = var.storage_blob_private_dns_zone_name
  sap_binaries_storage_account_name                   = module.preprod.binaries_storage_account_name
  sap_binaries_storage_account_id                     = module.preprod.binaries_storage_account_id
  sap_binaries_storage_private_endpoint_ip            = var.sandbox_binaries_storage_account_private_endpoint_ip
  application_security_group_names                    = var.sandbox_application_security_group_names
  network_security_groups                             = var.sandbox_network_security_groups
  app_registration_name                               = var.app_registration_name
  core_infrastructure_subscription_id                 = var.core_infrastructure_subscription_id
  common_nsg_rules                                    = var.common_nsg_rules
  common_nsg_rules_secondary                          = var.common_nsg_rules_secondary
  backup_storage_account_private_endpoint_ip          = var.sandbox_backup_storage_account_private_endpoint_ip
  cluster_spn_object_id                               = var.sandbox_cluster_spn_object_id
  cluster_role_definition_id                          = module.preprod.cluster_role_id
  subscription_id                                     = var.application_subscription_id_sandbox
  blob_soft_delete_retention_days                     = var.blob_soft_delete_retention_days_nonprod
  foundational_storage_account_private_endpoint_ip    = var.sandbox_foundational_storage_account_private_endpoint_ip
  route_tables                                        = var.route_tables
  fileshare_storage_account_name                      = module.preprod.fileshare_storage_account_name
  fileshare_storage_account_id                        = module.preprod.fileshare_storage_account_id
  fileshare_storage_private_endpoint_ip               = var.sandbox_fileshare_storage_account_private_endpoint_ip
  asr_replication_storage_account_private_endpoint_ip = ""
}

module "development" {
  source = "./modules/_env_SAP"
  providers = {
    azurerm.azurerm_application_provider         = azurerm.azurerm_application_provider_dev
    azurerm.azurerm_core_infrastructure_provider = azurerm.azurerm_core_infrastructure_provider
    azuread.azuread_mccaingroup_onmicrosoft_com  = azuread.azuread_mccaingroup_onmicrosoft_com
  }
  organization                                        = var.organization
  solution                                            = var.solution
  environment                                         = var.environment_dev
  application                                         = var.application
  gl_code                                             = var.gl_code
  it_owner                                            = var.it_owner
  business_owner                                      = var.business_owner
  iac_creator                                         = var.iac_creator
  iac_owner                                           = var.iac_owner
  network_posture                                     = var.network_posture
  built_using                                         = var.built_using
  terraform_id                                        = var.terraform_id
  onboarding_date                                     = var.onboarding_date_dev
  modified_date                                       = var.modified_date_dev
  region                                              = var.region
  sub_component_bw                                    = var.sub_component_bw
  sub_component_srm                                   = var.sub_component_srm
  sub_component_solman                                = var.sub_component_solman
  sub_component_portal                                = var.sub_component_portal
  vnet_address_spaces                                 = var.dev_vnet_address_spaces
  dns_servers                                         = var.dns_servers
  hub_vnet_id                                         = var.hub_vnet_id
  hub_vnet_name                                       = var.hub_vnet_name
  vnet_subnets                                        = var.dev_vnet_subnets
  ad_groups                                           = var.dev_ad_groups
  ad_groups_owner                                     = var.dev_ad_groups_owner
  route_table_routes                                  = var.preprod_route_table_routes
  storage_blob_private_dns_zone_resource_id           = var.storage_blob_private_dns_zone_resource_id
  key_vault_private_dns_zone_resource_id              = var.preprod_key_vault_private_dns_zone_resource_id
  key_vault_private_endpoint_ip                       = var.dev_key_vault_private_endpoint_ip
  managed_identity_object_id                          = var.dev_managed_identity_object_id
  monitoring_tools_vnet_name                          = module.preprod.monitoring_tools_vnet_name
  monitoring_tools_vnet_id                            = module.preprod.monitoring_tools_vnet_resource_id
  vm_backup_policies                                  = var.dev_vm_backup_policies
  storage_blob_private_dns_zone_resource_group_name   = var.storage_blob_private_dns_zone_resource_group_name
  storage_blob_private_dns_zone_name                  = var.storage_blob_private_dns_zone_name
  sap_binaries_storage_account_name                   = module.preprod.binaries_storage_account_name
  sap_binaries_storage_account_id                     = module.preprod.binaries_storage_account_id
  sap_binaries_storage_private_endpoint_ip            = var.dev_binaries_storage_account_private_endpoint_ip
  application_security_group_names                    = var.dev_application_security_group_names
  network_security_groups                             = var.dev_network_security_groups
  app_registration_name                               = var.app_registration_name
  core_infrastructure_subscription_id                 = var.core_infrastructure_subscription_id
  common_nsg_rules                                    = var.common_nsg_rules
  common_nsg_rules_secondary                          = var.common_nsg_rules_secondary
  backup_storage_account_private_endpoint_ip          = var.dev_backup_storage_account_private_endpoint_ip
  cluster_spn_object_id                               = var.dev_cluster_spn_object_id
  cluster_role_definition_id                          = module.preprod.cluster_role_id
  subscription_id                                     = var.application_subscription_id_dev
  blob_soft_delete_retention_days                     = var.blob_soft_delete_retention_days_nonprod
  foundational_storage_account_private_endpoint_ip    = var.dev_foundational_storage_account_private_endpoint_ip
  route_tables                                        = var.route_tables
  fileshare_storage_account_name                      = module.preprod.fileshare_storage_account_name
  fileshare_storage_account_id                        = module.preprod.fileshare_storage_account_id
  fileshare_storage_private_endpoint_ip               = var.dev_fileshare_storage_account_private_endpoint_ip
  asr_replication_storage_account_private_endpoint_ip = ""
}

module "production" {
  source = "./modules/_env_SAP"
  providers = {
    azurerm.azurerm_application_provider         = azurerm.azurerm_application_provider_prod
    azurerm.azurerm_core_infrastructure_provider = azurerm.azurerm_core_infrastructure_provider
    azuread.azuread_mccaingroup_onmicrosoft_com  = azuread.azuread_mccaingroup_onmicrosoft_com
  }
  organization                                        = var.organization
  solution                                            = var.solution
  environment                                         = var.environment_prod
  application                                         = var.application
  gl_code                                             = var.gl_code
  it_owner                                            = var.it_owner
  business_owner                                      = var.business_owner
  iac_creator                                         = var.iac_creator
  iac_owner                                           = var.iac_owner
  network_posture                                     = var.network_posture
  built_using                                         = var.built_using
  terraform_id                                        = var.terraform_id
  onboarding_date                                     = var.onboarding_date_prod
  modified_date                                       = var.modified_date_prod
  region                                              = var.region
  sub_component_bw                                    = var.sub_component_bw
  sub_component_srm                                   = var.sub_component_srm
  sub_component_solman                                = var.sub_component_solman
  sub_component_portal                                = var.sub_component_portal
  vnet_address_spaces                                 = var.prod_vnet_address_spaces
  dns_servers                                         = var.dns_servers
  hub_vnet_id                                         = var.hub_vnet_id
  hub_vnet_name                                       = var.hub_vnet_name
  vnet_subnets                                        = var.prod_vnet_subnets
  ad_groups                                           = var.prod_ad_groups
  ad_groups_owner                                     = var.prod_ad_groups_owner
  route_table_routes                                  = var.preprod_route_table_routes
  storage_blob_private_dns_zone_resource_id           = var.storage_blob_private_dns_zone_resource_id
  key_vault_private_dns_zone_resource_id              = var.preprod_key_vault_private_dns_zone_resource_id
  key_vault_private_endpoint_ip                       = var.prod_key_vault_private_endpoint_ip
  managed_identity_object_id                          = var.prod_managed_identity_object_id
  monitoring_tools_vnet_name                          = module.preprod.monitoring_tools_vnet_name
  monitoring_tools_vnet_id                            = module.preprod.monitoring_tools_vnet_resource_id
  vm_backup_policies                                  = var.prod_vm_backup_policies
  storage_blob_private_dns_zone_resource_group_name   = var.storage_blob_private_dns_zone_resource_group_name
  storage_blob_private_dns_zone_name                  = var.storage_blob_private_dns_zone_name
  sap_binaries_storage_account_name                   = module.preprod.binaries_storage_account_name
  sap_binaries_storage_account_id                     = module.preprod.binaries_storage_account_id
  sap_binaries_storage_private_endpoint_ip            = var.prod_binaries_storage_account_private_endpoint_ip
  application_security_group_names                    = var.prod_application_security_group_names
  network_security_groups                             = var.prod_network_security_groups
  app_registration_name                               = var.app_registration_name
  core_infrastructure_subscription_id                 = var.core_infrastructure_subscription_id
  common_nsg_rules                                    = var.common_nsg_rules
  common_nsg_rules_secondary                          = var.common_nsg_rules_secondary
  backup_storage_account_private_endpoint_ip          = var.prod_backup_storage_account_private_endpoint_ip
  cluster_spn_object_id                               = var.prod_cluster_spn_object_id
  cluster_role_definition_id                          = module.preprod.cluster_role_id
  subscription_id                                     = var.application_subscription_id_prod
  site_recovery_private_dns_zone_id                   = var.site_recovery_private_dns_zone_id
  site_recovery_private_dns_zone_name                 = var.site_recovery_private_dns_zone_name
  site_recovery_private_endpoint_ip_addresses         = var.prod_site_recovery_private_endpoint_ip_addresses
  site_recovery_private_dns_zone_resource_group_name  = var.site_recovery_private_dns_zone_resource_group_name
  production_asr_vault_resource_id                    = module.disasterrecovery.production_recovery_service_vaults["1"].recovery_services_vault_id
  blob_soft_delete_retention_days                     = var.blob_soft_delete_retention_days_prod
  foundational_storage_account_private_endpoint_ip    = var.prod_foundational_storage_account_private_endpoint_ip
  route_tables                                        = var.route_tables
  fileshare_storage_account_name                      = module.preprod.fileshare_storage_account_name
  fileshare_storage_account_id                        = module.preprod.fileshare_storage_account_id
  fileshare_storage_private_endpoint_ip               = var.prod_fileshare_storage_account_private_endpoint_ip
  asr_replication_storage_account_private_endpoint_ip = var.prod_asr_replication_storage_account_private_endpoint_ip
}

# Disaster Recovery
module "disasterrecovery" {
  source = "./modules/_env_SAP"
  providers = {
    azurerm.azurerm_application_provider         = azurerm.azurerm_application_provider_prod
    azurerm.azurerm_core_infrastructure_provider = azurerm.azurerm_core_infrastructure_provider
    azuread.azuread_mccaingroup_onmicrosoft_com  = azuread.azuread_mccaingroup_onmicrosoft_com
  }
  organization                                        = var.organization
  solution                                            = var.solution
  environment                                         = var.environment_drr
  application                                         = var.application
  gl_code                                             = var.gl_code
  it_owner                                            = var.it_owner
  business_owner                                      = var.business_owner
  iac_creator                                         = var.iac_creator
  iac_owner                                           = var.iac_owner
  network_posture                                     = var.network_posture
  built_using                                         = var.built_using
  terraform_id                                        = var.terraform_id
  onboarding_date                                     = var.onboarding_date_drr
  modified_date                                       = var.modified_date_drr
  region                                              = var.secondary_region
  sub_component_bw                                    = var.sub_component_bw
  sub_component_srm                                   = var.sub_component_srm
  sub_component_solman                                = var.sub_component_solman
  sub_component_portal                                = var.sub_component_portal
  vnet_address_spaces                                 = var.drr_vnet_address_spaces
  dns_servers                                         = var.dns_servers
  hub_vnet_id                                         = var.hub_vnet_id
  hub_vnet_name                                       = var.hub_vnet_name
  vnet_subnets                                        = var.drr_vnet_subnets
  ad_groups                                           = var.drr_ad_groups
  ad_groups_owner                                     = var.drr_ad_groups_owner
  route_table_routes                                  = var.preprod_route_table_routes
  storage_blob_private_dns_zone_resource_id           = var.storage_blob_private_dns_zone_resource_id
  key_vault_private_dns_zone_resource_id              = var.preprod_key_vault_private_dns_zone_resource_id
  key_vault_private_endpoint_ip                       = var.drr_key_vault_private_endpoint_ip
  managed_identity_object_id                          = var.drr_managed_identity_object_id
  monitoring_tools_vnet_name                          = module.preprod.monitoring_tools_dr_vnet_name
  monitoring_tools_vnet_id                            = module.preprod.monitoring_tools_dr_vnet_resource_id
  vm_backup_policies                                  = var.drr_vm_backup_policies
  storage_blob_private_dns_zone_resource_group_name   = var.storage_blob_private_dns_zone_resource_group_name
  storage_blob_private_dns_zone_name                  = var.storage_blob_private_dns_zone_name
  sap_binaries_storage_account_name                   = module.preprod.binaries_storage_account_name
  sap_binaries_storage_account_id                     = module.preprod.binaries_storage_account_id
  sap_binaries_storage_private_endpoint_ip            = var.drr_binaries_storage_account_private_endpoint_ip
  application_security_group_names                    = var.drr_application_security_group_names
  network_security_groups                             = var.drr_network_security_groups
  app_registration_name                               = var.app_registration_name
  core_infrastructure_subscription_id                 = var.core_infrastructure_subscription_id
  common_nsg_rules                                    = var.common_nsg_rules
  common_nsg_rules_secondary                          = var.common_nsg_rules_secondary
  backup_storage_account_private_endpoint_ip          = var.drr_backup_storage_account_private_endpoint_ip
  cluster_spn_object_id                               = var.drr_cluster_spn_object_id
  cluster_role_definition_id                          = module.preprod.cluster_role_id
  subscription_id                                     = var.application_subscription_id_prod
  blob_soft_delete_retention_days                     = var.blob_soft_delete_retention_days_prod
  foundational_storage_account_private_endpoint_ip    = var.drr_foundational_storage_account_private_endpoint_ip
  route_tables                                        = var.route_tables
  fileshare_storage_account_name                      = module.preprod.fileshare_storage_account_name
  fileshare_storage_account_id                        = module.preprod.fileshare_storage_account_id
  fileshare_storage_private_endpoint_ip               = var.drr_fileshare_storage_account_private_endpoint_ip
  asr_replication_storage_account_private_endpoint_ip = var.drr_asr_replication_storage_account_private_endpoint_ip
  site_recovery_private_dns_zone_id                   = var.site_recovery_private_dns_zone_id
  site_recovery_private_dns_zone_name                 = var.site_recovery_private_dns_zone_name
  site_recovery_private_dns_zone_resource_group_name  = var.site_recovery_private_dns_zone_resource_group_name
}